:root {
  color-scheme: dark;
  --bg:#0b0c10;
  --bg-elev:#111218;
  --bg-card:#141622;
  --text:#e5e7eb;
  --muted:#a3a7b3;
  --border:#242636;
  --accent:#a78bfa;
  --accent-2:#7c3aed;
  --accent-3:#d946ef;
  --success:#22c55e;
  --warning:#f59e0b;
  --danger:#ef4444;
  --shadow:0 10px 30px rgba(0,0,0,.45), 0 6px 16px rgba(124,58,237,.18);
  --radius:14px;
  --radius-sm:10px;
  --radius-lg:18px;
  --gradient:linear-gradient(135deg, rgba(124,58,237,.25), rgba(217,70,239,.18));
  --focus: 0 0 0 3px rgba(124,58,237,.35);
}
html[data-theme="light"] {
  color-scheme: light;
  --bg:#f7f7fb;
  --bg-elev:#ffffff;
  --bg-card:#ffffff;
  --text:#0f1222;
  --muted:#646a80;
  --border:#e4e6ef;
  --accent:#7c3aed;
  --accent-2:#7c3aed;
  --accent-3:#d946ef;
  --shadow:0 10px 30px rgba(10,10,50,.08), 0 6px 16px rgba(124,58,237,.10);
  --gradient:linear-gradient(135deg, rgba(124,58,237,.10), rgba(217,70,239,.08));
  --focus: 0 0 0 3px rgba(124,58,237,.28);
}

/* Base */
* { box-sizing: border-box }
html, body { margin:0; padding:0 }
body {
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:
    radial-gradient(1200px 800px at 120% -10%, rgba(124,58,237,.12), transparent 60%),
    radial-gradient(900px 700px at -10% 120%, rgba(217,70,239,.08), transparent 60%),
    var(--bg);
  color: var(--text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}
a { color: inherit; text-decoration: none }
img { max-width: 100%; display:block; height:auto }
::selection { background: rgba(124,58,237,.25) }

/* Focus styles */
:where(a, button, input, select, textarea) { outline: none }
:where(a, button, input, select, textarea):focus-visible {
  box-shadow: var(--focus);
  border-radius: 10px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation:none !important; transition:none !important; scroll-behavior:auto !important }
}

.container { max-width: 1200px; margin-inline:auto; padding-inline: 20px }

/* Skip link */
.skip-link {
  position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus {
  position:fixed; left:16px; top:16px; width:auto; height:auto; padding:10px 12px;
  background:var(--bg-elev); border:1px solid var(--border); border-radius:10px; z-index:1000;
}

/* Header */
.header {
  position: sticky; top:0; z-index:50;
  backdrop-filter: saturate(180%) blur(10px);
  background: color-mix(in oklab, var(--bg-elev) 80%, transparent);
  border-bottom: 1px solid var(--border);
}
.nav {
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 0;
  gap: 12px;
}
.brand { display:flex; align-items:center; gap:12px; font-weight:800; font-size:1.1rem; letter-spacing:.3px }
.brand-badge {
  width:34px; height:34px; border-radius:10px;
  background:linear-gradient(135deg,var(--accent),var(--accent-3));
  display:grid; place-items:center; font-weight:800; color:#0b0c10; box-shadow:var(--shadow);
}
.nav-links { display:flex; gap: 6px; flex-wrap:wrap }
.nav-links a {
  color: var(--muted); font-weight:600; font-size:.95rem; padding:8px 12px; border-radius:10px;
  transition: color .2s, background .2s, transform .2s;
}
.nav-links a[aria-current="page"],
.nav-links a:hover { color: #fff; background: rgba(124,58,237,.14); transform: translateY(-1px) }

.actions { display:flex; gap:10px; align-items:center }
.btn {
  border:none; cursor:pointer; border-radius:12px; font-weight:700;
  padding:10px 14px; background:var(--bg-card); color:var(--text); border:1px solid var(--border);
  transition: transform .2s, box-shadow .2s, background .2s, border-color .2s, filter .2s;
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow); border-color: color-mix(in oklab, var(--border), #777 20%) }
.btn:active { transform: translateY(0) scale(.99) }
.btn-accent {
  background: linear-gradient(135deg,var(--accent-2),var(--accent-3));
  border-color: transparent; color:#fff;
}
.btn-accent:hover { filter: brightness(1.05) }
.btn-icon {
  display:inline-flex; align-items:center; gap:8px;
}

/* Hero */
.hero {
  position:relative; overflow:hidden; border-bottom:1px solid var(--border);
  background:
    radial-gradient(1000px 600px at 20% -10%, rgba(124,58,237,.25), transparent 60%),
    radial-gradient(800px 600px at 100% 10%, rgba(217,70,239,.15), transparent 55%),
    linear-gradient(180deg, color-mix(in oklab, var(--bg-card), transparent 10%), var(--bg));
}
.hero-inner { display:grid; grid-template-columns:1.1fr .9fr; gap:36px; align-items:center; padding:56px 0 }
.headline { font-size: clamp(2rem, 3.5vw, 3.2rem); line-height:1.1; margin:0 0 12px; font-weight:800; letter-spacing:.2px }
.subhead { color: var(--muted); font-size:1.05rem; margin-bottom:22px; max-width: 58ch }
.hero-ctas { display:flex; gap:12px; flex-wrap:wrap }
.chip-row { display:flex; gap:10px; flex-wrap:wrap; margin-top:18px }
.chip {
  padding:8px 12px; border-radius:999px; border:1px solid var(--border); background:rgba(20,22,34,.7);
  color:#cfd2dc; font-weight:600; font-size:.85rem
}
html[data-theme="light"] .chip { background:#fff; color:#38405a }

.hero-media {
  border-radius:var(--radius-lg); overflow:hidden; position:relative; background:var(--bg-card);
  border:1px solid var(--border); box-shadow:var(--shadow);
}
.hero-media::after {
  content:''; position:absolute; inset:0; background:linear-gradient(180deg, transparent, rgba(11,12,16,.35));
  pointer-events:none;
}
.hero-tag {
  position:absolute; left:16px; bottom:16px; background:rgba(20,22,34,.7); backdrop-filter: blur(6px);
  border:1px solid var(--border); padding:10px 12px; border-radius:12px; font-weight:700; color:#cbd0dd
}
html[data-theme="light"] .hero-tag { background: rgba(255,255,255,.75); color:#283048 }

.hero-img {
  display:block; width:100%; height:auto; aspect-ratio:16/10; object-fit:cover;
  background:linear-gradient(135deg,#1b1e2f,#131628);
}

/* Promo */
.promo {
  display:flex; align-items:center; justify-content:center; gap:18px; text-align:center; flex-wrap:wrap;
  background:linear-gradient(90deg, rgba(124,58,237,.18), rgba(217,70,239,.16));
  border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  padding:12px; font-weight:700; color:#eaeaf3;
}
html[data-theme="light"] .promo { color:#272a3f }
.promo small { font-weight:600; color:#d1c9f8 }

/* Sections */
.section { padding:42px 0 }
.section-header {
  display:flex; align-items:flex-end; justify-content:space-between; gap:16px; margin-bottom:18px; flex-wrap:wrap
}
.section-title { font-size:1.5rem; font-weight:800; margin:0 }
.section-sub { color:var(--muted); font-weight:600 }

/* Grid and cards */
.grid { display:grid; gap:16px; grid-template-columns: repeat(4, minmax(0, 1fr)) }
@media (max-width:1024px){ .grid{ grid-template-columns: repeat(3, minmax(0, 1fr)) } }
@media (max-width:768px){ .hero-inner{ grid-template-columns:1fr } .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)) } }
@media (max-width:480px){ .grid{ grid-template-columns:1fr } }

.card {
  background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius);
  overflow:hidden; transition: transform .18s, box-shadow .2s, border-color .2s, background .2s;
  content-visibility:auto; contain-intrinsic-size: 360px;
}
.card:hover { transform: translateY(-4px); box-shadow: var(--shadow); border-color: color-mix(in oklab, var(--border), #777 25%); background: color-mix(in oklab, var(--bg-card), #fff 2%) }
.card-media { position:relative; overflow:hidden }
.badge {
  position:absolute; top:10px; left:10px; font-size:.75rem; font-weight:800;
  padding:6px 9px; border-radius:999px; background:rgba(124,58,237,.9);
  border:1px solid rgba(255,255,255,.12)
}
.price-tag {
  position:absolute; bottom:10px; right:10px; font-weight:800;
  background:rgba(20,22,34,.7); border:1px solid var(--border); padding:6px 9px; border-radius:999px;
}
html[data-theme="light"] .price-tag { background: rgba(255,255,255,.85) }

.card-img { width:100%; aspect-ratio:1/1; object-fit:cover; background:#1b1e2f }
.card-body { padding:12px 12px 14px }
.title { font-weight:700; margin:0 0 6px; font-size:1rem }
.meta { display:flex; align-items:center; justify-content:space-between }
.rating { color:#fbbf24; font-weight:700; font-size:.9rem }
.muted { color:var(--muted); font-weight:600 }

/* Panel / Newsletter */
.panel {
  background:linear-gradient(135deg, rgba(124,58,237,.14), rgba(25,27,40,.9));
  border:1px solid var(--border); border-radius:var(--radius-lg); padding:24px; box-shadow:var(--shadow)
}
html[data-theme="light"] .panel { background:linear-gradient(135deg, rgba(124,58,237,.08), #fff) }
.panel h3 { margin:0 0 10px; font-size:1.25rem }
.panel p { margin:0 0 16px; color:var(--muted) }
.inline-form { display:flex; gap:10px; flex-wrap:wrap }
.input {
  appearance:none; background:var(--bg); border:1px solid var(--border);
  color:var(--text); border-radius:12px; padding:12px 14px; min-width:260px; font-weight:600;
  outline:none; transition:border-color .2s, box-shadow .2s;
}
.input:focus { border-color:#3c3f58; box-shadow:0 0 0 4px rgba(124,58,237,.15) }
.form-msg { margin-top:10px; font-weight:600 }
.form-msg[role="status"] { color: var(--muted) }

/* Footer */
.footer { border-top:1px solid var(--border); padding:28px 0; margin-top:28px; color:#c8cbe0 }
html[data-theme="light"] .footer { color:#44485d }
.footer-grid { display:grid; gap:18px; grid-template-columns:2fr 1fr 1fr 1fr }
@media (max-width:900px){ .footer-grid { grid-template-columns:1fr 1fr } }
@media (max-width:520px){ .footer-grid { grid-template-columns:1fr } }
.foot-col h4 { margin:0 0 10px; font-size:1rem }
.foot-col a { display:block; color:#b2b6c8; padding:6px 0; font-weight:600 }
.foot-col a:hover { color:#fff }
html[data-theme="light"] .foot-col a { color:#646a80 }
html[data-theme="light"] .foot-col a:hover { color:#000 }

/* Catalog controls */
.catalog-controls {
  display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:12px;
}
.input-search { flex:1 1 260px }
.input-select { min-width:180px }

/* Drawer (cart) */
.drawer { position:fixed; inset:0; display:none; z-index:70 }
.drawer[aria-hidden="false"] { display:block }
.drawer-backdrop {
  position:absolute; inset:0; background:rgba(0,0,0,.5); backdrop-filter: blur(2px);
}
.drawer-panel {
  position:absolute; right:0; top:0; height:100%; width:min(420px, 100%); background:var(--bg-elev);
  border-left:1px solid var(--border); box-shadow:var(--shadow); display:flex; flex-direction:column;
  transform:translateX(100%); transition:transform .25s ease;
}
.drawer[aria-hidden="false"] .drawer-panel { transform:none }
.drawer-header { display:flex; align-items:center; justify-content:space-between; padding:16px; border-bottom:1px solid var(--border) }
.drawer-body { padding:12px; overflow:auto; flex:1; display:grid; gap:12px }
.drawer-footer { padding:12px; border-top:1px solid var(--border); display:grid; gap:12px }
.drawer-total { display:flex; align-items:center; justify-content:space-between }
.drawer-item { display:grid; grid-template-columns:64px 1fr auto; gap:10px; align-items:center; border:1px solid var(--border); border-radius:12px; padding:8px; background:var(--bg-card) }
.drawer-item img { width:64px; height:64px; object-fit:cover; border-radius:10px }
.drawer-item .title { margin:0 0 4px }
.drawer-item .muted { display:block; font-size:.85rem }
.drawer-actions { display:flex; justify-content:space-between; gap:10px }

/* Modal (quick view) */
.modal { position:fixed; inset:0; display:none; z-index:80 }
.modal[aria-hidden="false"] { display:block }
.modal-backdrop { position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter: blur(2px) }
.modal-content {
  position:absolute; inset:auto; left:50%; top:50%; transform:translate(-50%,-50%);
  width:min(860px, 92vw); max-height:86vh; overflow:auto; border:1px solid var(--border);
  border-radius:18px; background:var(--bg-elev); box-shadow:var(--shadow); padding:16px;
}
.modal-close { position:absolute; right:12px; top:12px }
.quick-view { display:grid; grid-template-columns:1fr 1fr; gap:16px }
@media (max-width:720px){ .quick-view { grid-template-columns:1fr } }
.quick-view .qv-media img { width:100%; height:auto; border-radius:12px }
.quick-view .qv-title { margin:0 0 6px; font-size:1.25rem }
.quick-view .qv-price { font-weight:800 }
.quick-view .qv-actions { display:flex; gap:10px; margin-top:12px }

/* Card add-to-cart button (progressive) */
.card .card-actions { display:flex; gap:8px; padding:10px 12px 14px; }
.card .btn-sm { padding:8px 10px; border-radius:10px; font-size:.9rem }

/* Empty state */
#empty-state { padding:8px 2px }

/* Toast (live region visual fallback) - optional */
.toast {
  position:fixed; bottom:16px; left:50%; transform:translateX(-50%);
  background:var(--bg-elev); border:1px solid var(--border); border-radius:12px; padding:10px 12px; box-shadow:var(--shadow);
}

/* Progressive enhancement: subtle fade-in for hydrated cards */
@media (prefers-reduced-motion: no-preference) {
  .fade-in { opacity:0; transform:translateY(6px); animation:fadeIn .35s ease forwards }
  @keyframes fadeIn { to { opacity:1; transform:none } }
}
